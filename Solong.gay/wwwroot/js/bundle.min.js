"use strict";function _typeof(n){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function playMusicLoop(n){var t=new Audio;t.src="assets/sm64_mario_so_long_bowser_LjCg641.mp3";t.play();t.onended=function(){setTimeout(playMusicLoop,n);MIDIjs.play(midiUrl)}}function start(){document.querySelector(".loading").classList.add("hidden");document.querySelector(".content").classList.remove("hidden");playMusicLoop(midiPlayLength)}var loadingIndicator=function(){var t=["🕐","🕑","🕒","🕓","🕔","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛"],n=0,r=t.length,i=0;return{start:function(u,f){i=setInterval(function(){n>=r-1?n=0:n++;document.querySelector("."+u).innerHTML=t[n]},f)},stop:function(){clearInterval(i)}}}(),PreloadAssets,TouchScreenDetect,midiUrl,filesToLoad;"complete"===document.readyState||"interactive"===document.readyState?loadingIndicator.start("loading-indicator",1e3):document.addEventListener("DOMContentLoaded",function(){loadingIndicator.start("loading-indicator",1e3)},!1);PreloadAssets=function(){var n=0;return{init:function(t,i){return new Promise(function(r,u){try{(e=t,f=e.indexOf(".mid")>-1?document.createElement("embed"):document.createElement("audio"),"src"in f?f.autoPlay=!1:(f=document.createElement("bgsound")).volume=-1e4,f.src=e,document.body.appendChild(f),f).addEventListener("canplaythrough",function(){var t;(t=i,new Promise(function(i){MIDIjs.get_duration(t,function(t){n=1e3*t;i()})})).then(function(){MIDIjs.play(midiUrl);MIDIjs.stop();r()})})}catch(n){u()}var e,f})},getMidiLength:function(){return n}}}();(void 0).createjs=(void 0).createjs||{},function(){var n=createjs.PreloadJS=createjs.PreloadJS||{};n.version="1.0.0";n.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}();(void 0).createjs=(void 0).createjs||{};createjs.extend=function(n,t){function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i};(void 0).createjs=(void 0).createjs||{};createjs.promote=function(n,t){var i=n.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__,u;if(r)for(u in i[(t+="_")+"constructor"]=r.constructor,r)i.hasOwnProperty(u)&&"function"==typeof r[u]&&(i[t+u]=r[u]);return n};(void 0).createjs=(void 0).createjs||{};createjs.deprecate=function(n,t){return function(){var i="Deprecated property or method '"+t+"'. See docs for info.";return console&&(console.warn?console.warn(i):console.log(i)),n&&n.apply(this,arguments)}};(void 0).createjs=(void 0).createjs||{};createjs.proxy=function(n,t){var i=Array.prototype.slice.call(arguments,2);return function(){return n.apply(t,Array.prototype.slice.call(arguments,0).concat(i))}};(void 0).createjs=(void 0).createjs||{};createjs.indexOf=function(n,t){for(var i=0,r=n.length;r>i;i++)if(t===n[i])return i;return-1};(void 0).createjs=(void 0).createjs||{},function(){function t(n,t,i){this.type=n;this.target=null;this.currentTarget=null;this.eventPhase=0;this.bubbles=!!t;this.cancelable=!!i;this.timeStamp=(new Date).getTime();this.defaultPrevented=!1;this.propagationStopped=!1;this.immediatePropagationStopped=!1;this.removed=!1}var n=t.prototype;n.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};n.stopPropagation=function(){this.propagationStopped=!0};n.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0};n.remove=function(){this.removed=!0};n.clone=function(){return new t(this.type,this.bubbles,this.cancelable)};n.set=function(n){for(var t in n)this[t]=n[t];return this};n.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=t}();(void 0).createjs=(void 0).createjs||{},function(){function n(n,t,i){this.Event_constructor("error");this.title=n;this.message=t;this.data=i}createjs.extend(n,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(n,"Event")}();(void 0).createjs=(void 0).createjs||{},function(){function t(){this._listeners=null;this._captureListeners=null}var n=t.prototype;t.initialize=function(t){t.addEventListener=n.addEventListener;t.on=n.on;t.removeEventListener=t.off=n.removeEventListener;t.removeAllEventListeners=n.removeAllEventListeners;t.hasEventListener=n.hasEventListener;t.dispatchEvent=n.dispatchEvent;t._dispatchEvent=n._dispatchEvent;t.willTrigger=n.willTrigger};n.addEventListener=function(n,t,i){var r,u=(r=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[n];return u&&this.removeEventListener(n,t,i),(u=r[n])?u.push(t):r[n]=[t],t};n.on=function(n,t,i,r,u,f){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(n,function(n){t.call(i,n,u);r&&n.remove()},f)};n.removeEventListener=function(n,t,i){var f=i?this._captureListeners:this._listeners,r,u,e;if(f&&(r=f[n],r))for(u=0,e=r.length;e>u;u++)if(r[u]==t){1==e?delete f[n]:r.splice(u,1);break}};n.off=n.removeEventListener;n.removeAllEventListeners=function(n){n?(this._listeners&&delete this._listeners[n],this._captureListeners&&delete this._captureListeners[n]):this._listeners=this._captureListeners=null};n.dispatchEvent=function(n,t,i){var e,u,f,r,o;if("string"==typeof n){if(e=this._listeners,!(t||e&&e[n]))return!0;n=new createjs.Event(n,t,i)}else n.target&&n.clone&&(n=n.clone());try{n.target=this}catch(n){}if(n.bubbles&&this.parent){for(u=this,f=[u];u.parent;)f.push(u=u.parent);for(o=f.length,r=o-1;r>=0&&!n.propagationStopped;r--)f[r]._dispatchEvent(n,1+(0==r));for(r=1;o>r&&!n.propagationStopped;r++)f[r]._dispatchEvent(n,3)}else this._dispatchEvent(n,2);return!n.defaultPrevented};n.hasEventListener=function(n){var t=this._listeners,i=this._captureListeners;return!!(t&&t[n]||i&&i[n])};n.willTrigger=function(n){for(var t=this;t;){if(t.hasEventListener(n))return!0;t=t.parent}return!1};n.toString=function(){return"[EventDispatcher]"};n._dispatchEvent=function(n,t){var f,i,e=2>=t?this._captureListeners:this._listeners,u,r;if(n&&e&&(i=e[n.type])&&(f=i.length)){try{n.currentTarget=this}catch(n){}try{n.eventPhase=0|t}catch(n){}for(n.removed=!1,i=i.slice(),u=0;f>u&&!n.immediatePropagationStopped;u++)r=i[u],r.handleEvent?r.handleEvent(n):r(n),n.removed&&(this.off(n.type,r,1==t),n.removed=!1)}2===t&&this._dispatchEvent(n,2.1)};createjs.EventDispatcher=t}();(void 0).createjs=(void 0).createjs||{},function(){function n(n,t){this.Event_constructor("progress");this.loaded=n;this.total=null==t?1:t;this.progress=0==t?0:this.loaded/this.total}createjs.extend(n,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(n,"Event")}(window),function(){function u(t,r){function l(n){var e,u,a,t,o,f,i;if(l[n]!==h)return l[n];if("bug-string-char-index"==n)e="a"!="a"[0];else if("json"==n)e=l("json-stringify")&&l("json-parse");else{if(a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',"json-stringify"==n){if(t=r.stringify,o="function"==typeof t&&c,o){(u=function(){return 1}).toJSON=u;try{o="0"===t(0)&&"0"===t(new ht)&&'""'==t(new ut)&&t(s)===h&&t(h)===h&&t()===h&&"1"===t(u)&&"[1]"==t([u])&&"[null]"==t([h])&&"null"==t(null)&&"[null,null,null]"==t([h,s,null])&&t({a:[u,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===t(null,u)&&"[\n 1,\n 2\n]"==t([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==t(new w(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==t(new w(864e13))&&'"-000001-01-01T00:00:00.000Z"'==t(new w(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==t(new w(-1))}catch(n){o=!1}}e=o}if("json-parse"==n){if(f=r.parse,"function"==typeof f)try{if(0===f("0")&&!f(!1)&&(i=5==(u=f(a)).a.length&&1===u.a[0],i)){try{i=!f('"\t"')}catch(n){}if(i)try{i=1!==f("01")}catch(n){}if(i)try{i=1!==f("1.")}catch(n){}}}catch(n){i=!1}e=i}}return l[n]=!!e}t||(t=n.Object());r||(r=n.Object());var ht=t.Number||n.Number,ut=t.String||n.String,ct=t.Object||n.Object,w=t.Date||n.Date,lt=t.SyntaxError||n.SyntaxError,at=t.TypeError||n.TypeError,vt=t.Math||n.Math,g=t.JSON||n.JSON;"object"==_typeof(g)&&g&&(r.stringify=g.stringify,r.parse=g.parse);var o,p,h,ft=ct.prototype,s=ft.toString,c=new w(-0xc782b5b800cec);try{c=-109252==c.getUTCFullYear()&&0===c.getUTCMonth()&&1===c.getUTCDate()&&10==c.getUTCHours()&&37==c.getUTCMinutes()&&6==c.getUTCSeconds()&&708==c.getUTCMilliseconds()}catch(u){}if(!l("json")){var b="[object Function]",nt="[object Number]",tt="[object String]",it="[object Array]",k=l("bug-string-char-index");if(!c)var a=vt.floor,yt=[0,31,59,90,120,151,181,212,243,273,304,334],d=function(n,t){return yt[t]+365*(n-1970)+a((n-1969+(t=+(t>1)))/4)-a((n-1901+t)/100)+a((n-1601+t)/400)};if((o=ft.hasOwnProperty)||(o=function(n){var i,t={};return(t.__proto__=null,t.__proto__={toString:1},t).toString!=s?o=function(n){var t=this.__proto__,i=n in(this.__proto__=null,this);return this.__proto__=t,i}:(i=t.constructor,o=function(n){var t=(this.constructor||i).prototype;return n in this&&!(n in t&&this[n]===t[n])}),t=null,o.call(this,n)}),p=function(n,t){var u,r,e,f=0;for(e in(u=function(){this.valueOf=0}).prototype.valueOf=0,r=new u)o.call(r,e)&&f++;return u=r=null,f?p=2==f?function(n,t){var i,r={},u=s.call(n)==b;for(i in n)(!u||"prototype"!=i)&&!o.call(r,i)&&(r[i]=1)&&o.call(n,i)&&t(i)}:function(n,t){var i,r,u=s.call(n)==b;for(i in n)u&&"prototype"==i||!o.call(n,i)||(r="constructor"===i)||t(i);(r||o.call(n,i="constructor"))&&t(i)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(n,t){var u,f,e=s.call(n)==b,h=!e&&"function"!=typeof n.constructor&&i[_typeof(n.hasOwnProperty)]&&n.hasOwnProperty||o;for(u in n)e&&"prototype"==u||!h.call(n,u)||t(u);for(f=r.length;u=r[--f];h.call(n,u)&&t(u));}),p(n,t)},!l("json-stringify")){var pt={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},v=function(n,t){return("000000"+(t||0)).slice(-n)},et=function(n){for(var i,r='"',t=0,u=n.length,f=!k||u>10,e=f&&(k?n.split(""):n);u>t;t++){i=n.charCodeAt(t);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:r+=pt[i];break;default:if(32>i){r+="\\u00"+v(2,i.toString(16));break}r+=f?e[t]:n.charAt(t)}}return r+'"'};r.stringify=function(n,t,r){var f,y,c,u,e,l,w;if(i[_typeof(t)]&&t)if((u=s.call(t))==b)y=t;else if(u==it)for(c={},l=0,w=t.length;w>l;e=t[l++],((u=s.call(e))==tt||u==nt)&&(c[e]=1));if(r)if((u=s.call(r))==nt){if((r-=r%1)>0)for(f="",r>10&&(r=10);f.length<r;f+=" ");}else u==tt&&(f=r.length<=10?r:r.slice(0,10));return function n(t,i,r,u,f,e,c){var l,k,y,g,w,ut,ot,st,ht,ct,b,lt,ft,rt,vt,yt;try{l=i[t]}catch(n){}if("object"==_typeof(l)&&l)if("[object Date]"!=(k=s.call(l))||o.call(l,"toJSON"))"function"==typeof l.toJSON&&(k!=nt&&k!=tt&&k!=it||o.call(l,"toJSON"))&&(l=l.toJSON(t));else if(l>-1/0&&1/0>l){if(d){for(w=a(l/864e5),y=a(w/365.2425)+1970-1;d(y+1,0)<=w;y++);for(g=a((w-d(y,0))/30.42);d(y,g+1)<=w;g++);w=1+w-d(y,g);ot=a((ut=(l%864e5+864e5)%864e5)/36e5)%24;st=a(ut/6e4)%60;ht=a(ut/1e3)%60;ct=ut%1e3}else y=l.getUTCFullYear(),g=l.getUTCMonth(),w=l.getUTCDate(),ot=l.getUTCHours(),st=l.getUTCMinutes(),ht=l.getUTCSeconds(),ct=l.getUTCMilliseconds();l=(0>=y||y>=1e4?(0>y?"-":"+")+v(6,0>y?-y:y):v(4,y))+"-"+v(2,g+1)+"-"+v(2,w)+"T"+v(2,ot)+":"+v(2,st)+":"+v(2,ht)+"."+v(3,ct)+"Z"}else l=null;if(r&&(l=r.call(i,t,l)),null===l)return"null";if("[object Boolean]"==(k=s.call(l)))return""+l;if(k==nt)return l>-1/0&&1/0>l?""+l:"null";if(k==tt)return et(""+l);if("object"==_typeof(l)){for(rt=c.length;rt--;)if(c[rt]===l)throw at();if(c.push(l),b=[],vt=e,e+=f,k==it){for(ft=0,rt=l.length;rt>ft;ft++)lt=n(ft,l,r,u,f,e,c),b.push(lt===h?"null":lt);yt=b.length?f?"[\n"+e+b.join(",\n"+e)+"\n"+vt+"]":"["+b.join(",")+"]":"[]"}else p(u||l,function(t){var i=n(t,l,r,u,f,e,c);i!==h&&b.push(et(t)+":"+(f?" ":"")+i)}),yt=b.length?f?"{\n"+e+b.join(",\n"+e)+"\n"+vt+"}":"{"+b.join(",")+"}":"{}";return c.pop(),yt}}("",((e={})[""]=n,e),y,c,f,"",[])}}if(!l("json-parse")){var f,rt,wt=ut.fromCharCode,bt={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},e=function(){throw f=rt=null,lt();},y=function(){for(var r,u,i,s,n,t=rt,o=t.length;o>f;)switch(n=t.charCodeAt(f)){case 9:case 10:case 13:case 32:f++;break;case 123:case 125:case 91:case 93:case 58:case 44:return r=k?t.charAt(f):t[f],f++,r;case 34:for(r="@",f++;o>f;)if(32>(n=t.charCodeAt(f)))e();else if(92==n)switch(n=t.charCodeAt(++f)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:r+=bt[n];f++;break;case 117:for(u=++f,i=f+4;i>f;f++)(n=t.charCodeAt(f))>=48&&57>=n||n>=97&&102>=n||n>=65&&70>=n||e();r+=wt("0x"+t.slice(u,f));break;default:e()}else{if(34==n)break;for(n=t.charCodeAt(f),u=f;n>=32&&92!=n&&34!=n;)n=t.charCodeAt(++f);r+=t.slice(u,f)}if(34==t.charCodeAt(f))return f++,r;e();default:if(u=f,45==n&&(s=!0,n=t.charCodeAt(++f)),n>=48&&57>=n){for(48==n&&(n=t.charCodeAt(f+1))>=48&&57>=n&&e(),s=!1;o>f&&(n=t.charCodeAt(f))>=48&&57>=n;f++);if(46==t.charCodeAt(f)){for(i=++f;o>i&&(n=t.charCodeAt(i))>=48&&57>=n;i++);i==f&&e();f=i}if(101==(n=t.charCodeAt(f))||69==n){for((43==(n=t.charCodeAt(++f))||45==n)&&f++,i=f;o>i&&(n=t.charCodeAt(i))>=48&&57>=n;i++);i==f&&e();f=i}return+t.slice(u,f)}if(s&&e(),"true"==t.slice(f,f+4))return f+=4,!0;if("false"==t.slice(f,f+5))return f+=5,!1;if("null"==t.slice(f,f+4))return f+=4,null;e()}return"$"},ot=function(n,t,i){var r=st(n,t,i);r===h?delete n[t]:n[t]=r},st=function(n,t,i){var u,r=n[t];if("object"==_typeof(r)&&r)if(s.call(r)==it)for(u=r.length;u--;)ot(r,u,i);else p(r,function(n){ot(r,n,i)});return i.call(n,t,r)};r.parse=function(n,t){var i,r;return f=0,rt=""+n,i=function n(t){var i,r;if("$"==t&&e(),"string"==typeof t){if("@"==(k?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(i=[];"]"!=(t=y());r||(r=!0))r&&(","==t?"]"==(t=y())&&e():e()),","==t&&e(),i.push(n(t));return i}if("{"==t){for(i={};"}"!=(t=y());r||(r=!0))r&&(","==t?"}"==(t=y())&&e():e()),(","==t||"string"!=typeof t||"@"!=(k?t.charAt(0):t[0])||":"!=y())&&e(),i[t.slice(1)]=n(y());return i}e()}return t}(y()),"$"!=y()&&e(),f=rt=null,t&&s.call(t)==b?st(((r={})[""]=i,r),"",t):i}}}return r.runInContext=u,r}var e="function"==typeof define&&define.amd,i={"function":!0,object:!0},f=i["undefined"==typeof exports?"undefined":_typeof(exports)]&&exports&&!exports.nodeType&&exports,n=i["undefined"==typeof window?"undefined":_typeof(window)]&&window||this,t=f&&i["undefined"==typeof module?"undefined":_typeof(module)]&&module&&!module.nodeType&&"object"==("undefined"==typeof global?"undefined":_typeof(global))&&global;if(!t||t.global!==t&&t.window!==t&&t.self!==t||(n=t),f&&!e)u(n,f);else{var o=n.JSON,s=n.JSON3,h=!1,r=u(n,n.JSON3={noConflict:function(){return h||(h=!0,n.JSON=o,n.JSON3=s,o=s=null),r}});n.JSON={parse:r.parse,stringify:r.stringify}}e&&define(function(){return r})}.call(void 0),function(){var n={a:function(){return n.el("a")},svg:function(){return n.el("svg")},object:function(){return n.el("object")},image:function(){return n.el("image")},img:function(){return n.el("img")},style:function(){return n.el("style")},link:function(){return n.el("link")},script:function(){return n.el("script")},audio:function(){return n.el("audio")},video:function(){return n.el("video")},text:function(n){return document.createTextNode(n)},el:function(n){return document.createElement(n)}};createjs.Elements=n}(),function(){var n={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[.\/]*?\//i,EXTENSION_PATT:/\/?[^\/]+\.(\w{1,5})$/i,parseURI:function(t){var i={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null},r,u,e,f;if(null==t)return i;r=createjs.Elements.a();for(u in r.href=t,i)u in r&&(i[u]=r[u]);return f=t.indexOf("?"),f>-1&&(t=t.substr(0,f)),n.ABSOLUTE_PATT.test(t)?i.absolute=!0:n.RELATIVE_PATT.test(t)&&(i.relative=!0),(e=t.match(n.EXTENSION_PATT))&&(i.extension=e[1].toLowerCase()),i},formatQueryString:function(n,t){var i,r;if(null==n)throw new Error("You must specify data.");i=[];for(r in n)i.push(r+"="+escape(n[r]));return t&&(i=i.concat(t)),i.join("&")},buildURI:function(n,t){var i,r,u;return null==t?n:(i=[],r=n.indexOf("?"),-1!=r&&(u=n.slice(r+1),i=i.concat(u.split("&"))),-1!=r?n.slice(0,r)+"?"+this.formatQueryString(t,i):n+"?"+this.formatQueryString(t,i))},isCrossDomain:function(n){var t=createjs.Elements.a(),i;return t.href=n.src,i=createjs.Elements.a(),i.href=location.href,""!=t.hostname&&(t.port!=i.port||t.protocol!=i.protocol||t.hostname!=i.hostname)},isLocal:function(n){var t=createjs.Elements.a();return t.href=n.src,""==t.hostname&&"file:"==t.protocol}};createjs.URLUtils=n}(),function(){var n={container:null,appendToHead:function(t){n.getHead().appendChild(t)},appendToBody:function(t){if(null==n.container){n.container=document.createElement("div");n.container.id="preloadjs-container";var i=n.container.style;i.visibility="hidden";i.position="absolute";i.width=n.container.style.height="10px";i.overflow="hidden";i.transform=i.msTransform=i.webkitTransform=i.oTransform="translate(-10px, -10px)";n.getBody().appendChild(n.container)}n.container.appendChild(t)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]},removeChild:function(n){n.parent&&n.parent.removeChild(n)},isImageTag:function(n){return n instanceof HTMLImageElement},isAudioTag:function(n){return!!window.HTMLAudioElement&&n instanceof HTMLAudioElement},isVideoTag:function(n){return!!window.HTMLVideoElement&&n instanceof HTMLVideoElement}};createjs.DomUtils=n}(),function(){var n={parseXML:function(n){var t=null;try{window.DOMParser&&(t=(new DOMParser).parseFromString(n,"text/xml"))}catch(n){}if(!t)try{(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1;t.loadXML(n)}catch(n){t=null}return t},parseJSON:function(n){if(null==n)return null;try{return JSON.parse(n)}catch(n){throw n;}}};createjs.DataUtils=n}();(void 0).createjs=(void 0).createjs||{},function(){createjs.Types={BINARY:"binary",CSS:"css",FONT:"font",FONTCSS:"fontcss",IMAGE:"image",JAVASCRIPT:"javascript",JSON:"json",JSONP:"jsonp",MANIFEST:"manifest",SOUND:"sound",VIDEO:"video",SPRITESHEET:"spritesheet",SVG:"svg",TEXT:"text",XML:"xml"}}();(void 0).createjs=(void 0).createjs||{},function(){createjs.Methods={POST:"POST",GET:"GET"}}();(void 0).createjs=(void 0).createjs||{},function(){function t(){this.src=null;this.type=null;this.id=null;this.maintainOrder=!1;this.callback=null;this.data=null;this.method=createjs.Methods.GET;this.values=null;this.headers=null;this.withCredentials=!1;this.mimeType=null;this.crossOrigin=null;this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var i=t.prototype={},n=t;n.LOAD_TIMEOUT_DEFAULT=8e3;n.create=function(i){if("string"==typeof i){var r=new t;return r.src=i,r}if(i instanceof n)return i;if(i instanceof Object&&i.src)return null==i.loadTimeout&&(i.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),i;throw new Error("Type not recognized.");};i.set=function(n){for(var t in n)this[t]=n[t];return this};createjs.LoadItem=n}(),function(){var n={isBinary:function(n){switch(n){case createjs.Types.IMAGE:case createjs.Types.BINARY:return!0;default:return!1}},isText:function(n){switch(n){case createjs.Types.TEXT:case createjs.Types.JSON:case createjs.Types.MANIFEST:case createjs.Types.XML:case createjs.Types.CSS:case createjs.Types.SVG:case createjs.Types.JAVASCRIPT:case createjs.Types.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(n){if(null==n)return createjs.Types.TEXT;switch(n.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.Types.IMAGE;case"ogg":case"mp3":case"webm":return createjs.Types.SOUND;case"mp4":case"webm":case"ts":return createjs.Types.VIDEO;case"json":return createjs.Types.JSON;case"xml":return createjs.Types.XML;case"css":return createjs.Types.CSS;case"js":return createjs.Types.JAVASCRIPT;case"svg":return createjs.Types.SVG;default:return createjs.Types.TEXT}}};createjs.RequestUtils=n}();(void 0).createjs=(void 0).createjs||{},function(){function t(n,t,i){this.EventDispatcher_constructor();this.loaded=!1;this.canceled=!1;this.progress=0;this.type=i;this.resultFormatter=null;this._item=n?createjs.LoadItem.create(n):null;this._preferXHR=t;this._result=null;this._rawResult=null;this._loadedItems=null;this._tagSrcAttribute=null;this._tag=null}var n=createjs.extend(t,createjs.EventDispatcher),i=t;try{Object.defineProperties(i,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(t){}n.getItem=function(){return this._item};n.getResult=function(n){return n?this._rawResult:this._result};n.getTag=function(){return this._tag};n.setTag=function(n){this._tag=n};n.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",this,this);var n=new createjs.Event("initialize");n.loader=this._request;this.dispatchEvent(n);this._request.load()};n.cancel=function(){this.canceled=!0;this.destroy()};n.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy());this._request=null;this._item=null;this._rawResult=null;this._result=null;this._loadItems=null;this.removeAllEventListeners()};n.getLoadedItems=function(){return this._loadedItems};n._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)};n._createTag=function(){return null};n._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};n._sendProgress=function(n){if(!this._isCanceled()){var t=null;"number"==typeof n?(this.progress=n,t=new createjs.ProgressEvent(this.progress)):(t=n,this.progress=n.loaded/n.total,t.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0));this.hasEventListener("progress")&&this.dispatchEvent(t)}};n._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var n=new createjs.Event("complete");n.rawResult=this._rawResult;null!=this._result&&(n.result=this._result);this.dispatchEvent(n)}};n._sendError=function(n){!this._isCanceled()&&this.hasEventListener("error")&&(null==n&&(n=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(n))};n._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)};n.resultFormatter=null;n.handleEvent=function(n){switch(n.type){case"complete":this._rawResult=n.target._response;var t=this.resultFormatter&&this.resultFormatter(this);t instanceof Function?t.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(n);break;case"error":this._sendError(n);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+n.type.toUpperCase()+"_ERROR"))}};n._resultFormatSuccess=function(n){this._result=n;this._sendComplete()};n._resultFormatFailed=function(n){this._sendError(n)};n.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}();(void 0).createjs=(void 0).createjs||{},function(){function t(n,t,i){this.AbstractLoader_constructor(n,t,i);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.on("initialize",this._updateXHR,this)}var n=createjs.extend(t,createjs.AbstractLoader);n.load=function(){this._tag||(this._tag=this._createTag(this._item.src));this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};n._createTag=function(){};n._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)};n._updateXHR=function(n){n.loader.setResponseType&&n.loader.setResponseType("blob")};n._formatResult=function(n){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var t=window.URL||window.webkitURL,i=n.getResult(!0);n.getTag().src=t.createObjectURL(i)}return n.getTag()};createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){var t=function(n){this._item=n},n=createjs.extend(t,createjs.EventDispatcher);n.load=function(){};n.destroy=function(){};n.cancel=function(){};createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}();(void 0).createjs=(void 0).createjs||{},function(){function t(n,t,i){this.AbstractRequest_constructor(n);this._tag=t;this._tagSrcAttribute=i;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=!1}var n=createjs.extend(t,createjs.AbstractRequest);n.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);this._tag.onerror=createjs.proxy(this._handleError,this);var n=new createjs.Event("initialize");n.loader=this._tag;this.dispatchEvent(n);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag[this._tagSrcAttribute]=this._item.src;null==this._tag.parentNode&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)};n.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};n._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var n=this._tag;("loaded"==n.readyState||"complete"==n.readyState)&&this._handleTagComplete()};n._handleError=function(){this._clean();this.dispatchEvent("error")};n._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult;this._clean();this.dispatchEvent("complete")};n._handleTimeout=function(){this._clean();this.dispatchEvent(new createjs.Event("timeout"))};n._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;this._tag.onerror=null;this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag);clearTimeout(this._loadTimeout)};n._handleStalled=function(){};createjs.TagRequest=createjs.promote(t,"AbstractRequest")}();(void 0).createjs=(void 0).createjs||{},function(){function t(n,t,i){this.AbstractRequest_constructor(n);this._tag=t;this._tagSrcAttribute=i;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var n=createjs.extend(t,createjs.TagRequest);n.load=function(){var t=createjs.proxy(this._handleStalled,this),n;this._stalledCallback=t;n=createjs.proxy(this._handleProgress,this);this._handleProgress=n;this._tag.addEventListener("stalled",t);this._tag.addEventListener("progress",n);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1);this.TagRequest_load()};n._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var n=this._tag;("loaded"==n.readyState||"complete"==n.readyState)&&this._handleTagComplete()};n._handleStalled=function(){};n._handleProgress=function(n){if(n&&!(n.loaded>0&&0==n.total)){var t=new createjs.ProgressEvent(n.loaded,n.total);this.dispatchEvent(t)}};n._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.removeEventListener("stalled",this._stalledCallback);this._tag.removeEventListener("progress",this._progressCallback);this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}();(void 0).createjs=(void 0).createjs||{},function(){function t(n){this.AbstractRequest_constructor(n);this._request=null;this._loadTimeout=null;this._xhrLevel=1;this._response=null;this._rawResponse=null;this._canceled=!1;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);this._createXHR(n)}var n=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];n.getResult=function(n){return n&&this._rawResponse?this._rawResponse:this._response};n.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};n.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy);1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(n){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,n))}}else this._handleError()};n.setResponseType=function(n){"blob"===n&&(n=window.URL?"blob":"arraybuffer",this._responseType=n);this._request.responseType=n};n.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null};n.getResponseHeader=function(n){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(n):null};n._handleProgress=function(n){if(n&&!(n.loaded>0&&0==n.total)){var t=new createjs.ProgressEvent(n.loaded,n.total);this.dispatchEvent(t)}};n._handleLoadStart=function(){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};n._handleAbort=function(n){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,n))};n._handleError=function(n){this._clean();this.dispatchEvent(new createjs.ErrorEvent(n.message))};n._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()};n._handleLoad=function(){var n,t;if(!this.loaded){if(this.loaded=!0,n=this._checkError(),n)return void this._handleError(n);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(n){(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===n.name&&window.BlobBuilder)&&(t=new BlobBuilder,t.append(this._response),this._response=t.getBlob())}this._clean();this.dispatchEvent(new createjs.Event("complete"))}};n._handleTimeout=function(n){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,n))};n._checkError=function(){var n=parseInt(this._request.status);return n>=400&&599>=n?new Error(n):0==n&&/^https?:/.test(location.protocol)?new Error(0):null};n._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(n){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(n){}return null};n._createXHR=function(n){var f=createjs.URLUtils.isCrossDomain(n),i={},t=null,u,e,o,h,r;if(window.XMLHttpRequest)t=new XMLHttpRequest,f&&void 0===t.withCredentials&&window.XDomainRequest&&(t=new XDomainRequest);else{for(u=0,e=s.ACTIVEX_VERSIONS.length;e>u;u++){o=s.ACTIVEX_VERSIONS[u];try{t=new ActiveXObject(o);break}catch(n){}}if(null==t)return!1}if(null==n.mimeType&&createjs.RequestUtils.isText(n.type)&&(n.mimeType="text/plain; charset=utf-8"),n.mimeType&&t.overrideMimeType&&t.overrideMimeType(n.mimeType),this._xhrLevel="string"==typeof t.responseType?2:1,h=n.method==createjs.Methods.GET?createjs.URLUtils.buildURI(n.src,n.values):n.src,t.open(n.method||createjs.Methods.GET,h,!0),f&&t instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),n.values&&n.method==createjs.Methods.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),f||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),n.headers)for(r in n.headers)i[r]=n.headers[r];for(r in i)t.setRequestHeader(r,i[r]);return t instanceof XMLHttpRequest&&void 0!==n.withCredentials&&(t.withCredentials=n.withCredentials),this._request=t,!0};n._clean=function(){clearTimeout(this._loadTimeout);null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)};n.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}();(void 0).createjs=(void 0).createjs||{},function(){function i(n,t,i){this.AbstractLoader_constructor();this._plugins=[];this._typeCallbacks={};this._extensionCallbacks={};this.next=null;this.maintainScriptOrder=!0;this.stopOnError=!1;this._maxConnections=1;this._availableLoaders=[createjs.FontLoader,createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader];this._defaultLoaderLength=this._availableLoaders.length;this.init(n,t,i)}var n=createjs.extend(i,createjs.AbstractLoader),t=i;try{Object.defineProperties(t,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(i){}n.init=function(n,t,i){this.preferXHR=!0;this._preferXHR=!0;this.setPreferXHR(n);this._paused=!1;this._basePath=t;this._crossOrigin=i;this._loadStartWasDispatched=!1;this._currentlyLoadingScript=null;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults={};this._numItems=0;this._numItemsLoaded=0;this._scriptOrder=[];this._loadedScripts=[];this._lastProgress=NaN};n.registerLoader=function(n){if(!n||!n.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(n))throw new Error("loader already exists.");this._availableLoaders.unshift(n)};n.unregisterLoader=function(n){var t=this._availableLoaders.indexOf(n);-1!=t&&t<this._defaultLoaderLength-1&&this._availableLoaders.splice(t,1)};n.setPreferXHR=function(n){return this.preferXHR=0!=n&&null!=window.XMLHttpRequest,this.preferXHR};n.removeAll=function(){this.remove()};n.remove=function(n){var u=null,f,i,e,t,r,o;if(n&&!Array.isArray(n))u=[n];else if(n)u=n;else if(arguments.length>0)return;if(f=!1,u){for(;u.length;){for(i=u.pop(),e=this.getResult(i),t=this._loadQueue.length-1;t>=0;t--)if((r=this._loadQueue[t].getItem()).id==i||r.src==i){this._loadQueue.splice(t,1)[0].cancel();break}for(t=this._loadQueueBackup.length-1;t>=0;t--)if((r=this._loadQueueBackup[t].getItem()).id==i||r.src==i){this._loadQueueBackup.splice(t,1)[0].cancel();break}if(e)this._disposeItem(this.getItem(i));else for(t=this._currentLoads.length-1;t>=0;t--)if(r=this._currentLoads[t].getItem(),r.id==i||r.src==i){this._currentLoads.splice(t,1)[0].cancel();f=!0;break}}f&&this._loadNext()}else{for(o in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}};n.reset=function(){for(var i in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[i]);for(var t=[],n=0,r=this._loadQueueBackup.length;r>n;n++)t.push(this._loadQueueBackup[n].getItem());this.loadManifest(t,!1)};n.installPlugin=function(n){var t,i,r;if(null!=n&&null!=n.getPreloadHandlers){if(this._plugins.push(n),t=n.getPreloadHandlers(),t.scope=n,null!=t.types)for(i=0,r=t.types.length;r>i;i++)this._typeCallbacks[t.types[i]]=t;if(null!=t.extensions)for(i=0,r=t.extensions.length;r>i;i++)this._extensionCallbacks[t.extensions[i]]=t}};n.setMaxConnections=function(n){this._maxConnections=n;!this._paused&&this._loadQueue.length>0&&this._loadNext()};n.loadFile=function(n,t,i){if(null!=n)this._addItem(n,null,i),this.setPaused(!1===t);else{var r=new createjs.ErrorEvent("PRELOAD_NO_FILE");this._sendError(r)}};n.loadManifest=function(n,i,r){var u=null,o=null,f,e,s;if(Array.isArray(n)){if(0==n.length)return f=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY"),void this._sendError(f);u=n}else if("string"==typeof n)u=[{src:n,type:t.MANIFEST}];else{if("object"!=_typeof(n))return f=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL"),void this._sendError(f);void 0!==n.src?(null==n.type?n.type=t.MANIFEST:n.type!=t.MANIFEST&&(f=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE"),this._sendError(f)),u=[n]):void 0!==n.manifest&&(u=n.manifest,o=n.path)}for(e=0,s=u.length;s>e;e++)this._addItem(u[e],o,r);this.setPaused(!1===i)};n.load=function(){this.setPaused(!1)};n.getItem=function(n){return this._loadItemsById[n]||this._loadItemsBySrc[n]};n.getResult=function(n,t){var r=this._loadItemsById[n]||this._loadItemsBySrc[n],i;return null==r?null:(i=r.id,t&&this._loadedRawResults[i]?this._loadedRawResults[i]:this._loadedResults[i])};n.getItems=function(n){var r=[],t,u,i;for(t in this._loadItemsById)u=this._loadItemsById[t],i=this.getResult(t),(!0!==n||null!=i)&&r.push({item:u,result:i,rawResult:this.getResult(t,!0)});return r};n.setPaused=function(n){this._paused=n;this._paused||this._loadNext()};n.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1;this._itemCount=0;this._lastProgress=NaN};n._addItem=function(n,t,i){var u=this._createLoadItem(n,t,i),r;null!=u&&(r=this._createLoader(u),null!=r&&("plugins"in r&&(r.plugins=this._plugins),u._loader=r,this._loadQueue.push(r),this._loadQueueBackup.push(r),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&u.type==createjs.Types.JAVASCRIPT||!0===u.maintainOrder)&&(this._scriptOrder.push(u),this._loadedScripts.push(null))))};n._createLoadItem=function(n,t,i){var r=createjs.LoadItem.create(n),u,f,o,e,h,c,s;if(null==r)return null;if(u="",f=i||this._basePath,r.src instanceof Object){if(!r.type)return null;t?(u=t,o=createjs.URLUtils.parseURI(t),null==f||o.absolute||o.relative||(u=f+u)):null!=f&&(u=f)}else e=createjs.URLUtils.parseURI(r.src),e.extension&&(r.ext=e.extension),null==r.type&&(r.type=createjs.RequestUtils.getTypeByExtension(r.ext)),h=r.src,e.absolute||e.relative||(t?(u=t,o=createjs.URLUtils.parseURI(t),h=t+h,null==f||o.absolute||o.relative||(u=f+u)):null!=f&&(u=f)),r.src=u+r.src;if(r.path=u,(void 0===r.id||null===r.id||""===r.id)&&(r.id=h),c=this._typeCallbacks[r.type]||this._extensionCallbacks[r.ext],c){if(s=c.callback.call(c.scope,r,this),!1===s)return null;!0===s||null!=s&&(r._loader=s);null!=(e=createjs.URLUtils.parseURI(r.src)).extension&&(r.ext=e.extension)}return this._loadItemsById[r.id]=r,this._loadItemsBySrc[r.src]=r,null==r.crossOrigin&&(r.crossOrigin=this._crossOrigin),r};n._createLoader=function(n){var r,t,i;if(null!=n._loader)return n._loader;for(r=this.preferXHR,t=0;t<this._availableLoaders.length;t++)if(i=this._availableLoaders[t],i&&i.canLoadItem(n))return new i(n,r);return null};n._loadNext=function(){var n,t;if(!this._paused)for(this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1,n=0;n<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);n++)t=this._loadQueue[n],this._canStartLoad(t)&&(this._loadQueue.splice(n,1),n--,this._loadItem(t))};n._loadItem=function(n){n.on("fileload",this._handleFileLoad,this);n.on("progress",this._handleProgress,this);n.on("complete",this._handleFileComplete,this);n.on("error",this._handleError,this);n.on("fileerror",this._handleFileError,this);this._currentLoads.push(n);this._sendFileStart(n.getItem());n.load()};n._handleFileLoad=function(n){n.target=null;this.dispatchEvent(n)};n._handleFileError=function(n){var t=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,n.item);this._sendError(t)};n._handleError=function(n){var t=n.target,i;this._numItemsLoaded++;this._finishOrderedItem(t,!0);this._updateProgress();i=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(i);this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())};n._handleFileComplete=function(n){var t=n.target,r=t.getItem(),u=t.getResult(),i;this._loadedResults[r.id]=u;i=t.getResult(!0);null!=i&&i!==u&&(this._loadedRawResults[r.id]=i);this._saveLoadedItems(t);this._removeLoadItem(t);this._finishOrderedItem(t)||this._processFinishedLoad(r,t);this._cleanLoadItem(t)};n._saveLoadedItems=function(n){var r=n.getLoadedItems(),i,t;if(null!==r)for(i=0;i<r.length;i++)t=r[i].item,this._loadItemsBySrc[t.src]=t,this._loadItemsById[t.id]=t,this._loadedResults[t.id]=r[i].result,this._loadedRawResults[t.id]=r[i].rawResult};n._finishOrderedItem=function(n,t){var i=n.getItem(),r;return this.maintainScriptOrder&&i.type==createjs.Types.JAVASCRIPT||i.maintainOrder?(n instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1),r=createjs.indexOf(this._scriptOrder,i),-1!=r&&(this._loadedScripts[r]=!0===t||i,this._checkScriptLoadOrder(),!0)):!1};n._checkScriptLoadOrder=function(){for(var n,r,u,i=this._loadedScripts.length,t=0;i>t;t++){if(n=this._loadedScripts[t],null===n)break;!0!==n&&(r=this._loadedResults[n.id],n.type==createjs.Types.JAVASCRIPT&&createjs.DomUtils.appendToHead(r),u=n._loader,this._processFinishedLoad(n,u),this._loadedScripts[t]=!0)}};n._processFinishedLoad=function(n,t){if(this._numItemsLoaded++,!this.maintainScriptOrder&&n.type==createjs.Types.JAVASCRIPT){var i=t.getTag();createjs.DomUtils.appendToHead(i)}this._updateProgress();this._sendFileComplete(n,t);this._loadNext()};n._canStartLoad=function(n){var i,r,t;if(!this.maintainScriptOrder||n.preferXHR||(i=n.getItem(),i.type!=createjs.Types.JAVASCRIPT))return!0;if(this._currentlyLoadingScript)return!1;for(r=this._scriptOrder.indexOf(i),t=0;r>t;){if(null==this._loadedScripts[t])return!1;t++}return this._currentlyLoadingScript=!0,!0};n._removeLoadItem=function(n){for(var i=this._currentLoads.length,t=0;i>t;t++)if(this._currentLoads[t]==n){this._currentLoads.splice(t,1);break}};n._cleanLoadItem=function(n){var t=n.getItem();t&&delete t._loader};n._handleProgress=function(n){var t=n.target;this._sendFileProgress(t.getItem(),t.progress);this._updateProgress()};n._updateProgress=function(){var n=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(t>0){for(var r=0,i=0,u=this._currentLoads.length;u>i;i++)r+=this._currentLoads[i].progress;n+=r/t*(t/this._numItems)}this._lastProgress!=n&&(this._sendProgress(n),this._lastProgress=n)};n._disposeItem=function(n){delete this._loadedResults[n.id];delete this._loadedRawResults[n.id];delete this._loadItemsById[n.id];delete this._loadItemsBySrc[n.src]};n._sendFileProgress=function(n,t){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var i=new createjs.Event("fileprogress");i.progress=t;i.loaded=t;i.total=1;i.item=n;this.dispatchEvent(i)}};n._sendFileComplete=function(n,t){if(!this._isCanceled()&&!this._paused){var i=new createjs.Event("fileload");i.loader=t;i.item=n;i.result=this._loadedResults[n.id];i.rawResult=this._loadedRawResults[n.id];n.completeHandler&&n.completeHandler(i);this.hasEventListener("fileload")&&this.dispatchEvent(i)}};n._sendFileStart=function(n){var t=new createjs.Event("filestart");t.item=n;this.hasEventListener("filestart")&&this.dispatchEvent(t)};n.toString=function(){return"[PreloadJS LoadQueue]"};createjs.LoadQueue=createjs.promote(i,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n){this.AbstractLoader_constructor(n,!0,createjs.Types.TEXT)}(createjs.extend(n,createjs.AbstractLoader),n).canLoadItem=function(n){return n.type==createjs.Types.TEXT};createjs.TextLoader=createjs.promote(n,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n){this.AbstractLoader_constructor(n,!0,createjs.Types.BINARY);this.on("initialize",this._updateXHR,this)}var t=createjs.extend(n,createjs.AbstractLoader);n.canLoadItem=function(n){return n.type==createjs.Types.BINARY};t._updateXHR=function(n){n.loader.setResponseType("arraybuffer")};createjs.BinaryLoader=createjs.promote(n,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n,t){this.AbstractLoader_constructor(n,t,createjs.Types.CSS);this.resultFormatter=this._formatResult;this._tagSrcAttribute="href";this._tag=t?createjs.Elements.style():createjs.Elements.link();this._tag.rel="stylesheet";this._tag.type="text/css"}var t=createjs.extend(n,createjs.AbstractLoader);n.canLoadItem=function(n){return n.type==createjs.Types.CSS};t._formatResult=function(n){var t,i;return this._preferXHR?(t=n.getTag(),t.styleSheet?t.styleSheet.cssText=n.getResult(!0):(i=createjs.Elements.text(n.getResult(!0)),t.appendChild(i))):t=this._tag,createjs.DomUtils.appendToHead(t),t};createjs.CSSLoader=createjs.promote(n,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n,t){this.AbstractLoader_constructor(n,t,n.type);this._faces={};this._watched=[];this._count=0;this._watchInterval=null;this._loadTimeout=null;this._injectCSS=void 0===n.injectCSS||n.injectCSS;this.dispatchEvent("initialize")}var t=createjs.extend(n,createjs.AbstractLoader);n.canLoadItem=function(n){return n.type==createjs.Types.FONT||n.type==createjs.Types.FONTCSS};n.sampleText="abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ";n._ctx=document.createElement("canvas").getContext("2d");n._referenceFonts=["serif","monospace"];n.WEIGHT_REGEX=/[- ._]*(thin|normal|book|regular|medium|black|heavy|[1-9]00|(?:extra|ultra|semi|demi)?[- ._]*(?:light|bold))[- ._]*/gi;n.STYLE_REGEX=/[- ._]*(italic|oblique)[- ._]*/gi;n.FONT_FORMAT={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"truetype"};n.FONT_WEIGHT={thin:100,extralight:200,ultralight:200,light:300,semilight:300,demilight:300,book:"normal",regular:"normal",semibold:600,demibold:600,extrabold:800,ultrabold:800,black:900,heavy:900};n.WATCH_DURATION=10;t.load=function(){if(this.type==createjs.Types.FONTCSS){if(!this._watchCSS())return void this.AbstractLoader_load()}else if(this._item.src instanceof Array)this._watchFontArray();else{var n=this._defFromSrc(this._item.src);this._watchFont(n);this._injectStyleTag(this._cssFromDef(n))}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this.dispatchEvent("loadstart")};t._handleTimeout=function(){this._stopWatching();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT"))};t._createRequest=function(){return this._request};t.handleEvent=function(n){switch(n.type){case"complete":this._rawResult=n.target._response;this._result=!0;this._parseCSS(this._rawResult);break;case"error":this._stopWatching();this.AbstractLoader_handleEvent(n)}};t._watchCSS=function(){var n=this._item.src;return n instanceof HTMLStyleElement&&(this._injectCSS&&!n.parentNode&&(document.head||document.getElementsByTagName("head")[0]).appendChild(n),this._injectCSS=!1,n="\n"+n.textContent),-1!==n.search(/\n|\r|@font-face/i)?(this._parseCSS(n),!0):(this._request=new createjs.XHRRequest(this._item),!1)};t._parseCSS=function(n){for(var t,i=/@font-face\s*\{([^}]+)}/g;;){if(t=i.exec(n),!t)break;this._watchFont(this._parseFontFace(t[1]))}this._injectStyleTag(n)};t._watchFontArray=function(){for(var n,t,r=this._item.src,u="",i=r.length-1;i>=0;i--)n=r[i],t="string"==typeof n?this._defFromSrc(n):this._defFromObj(n),this._watchFont(t),u+=this._cssFromDef(t)+"\n";this._injectStyleTag(u)};t._injectStyleTag=function(n){if(this._injectCSS){var i=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css";t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n));i.appendChild(t)}};t._parseFontFace=function(n){var t=this._getCSSValue(n,"font-family"),i=this._getCSSValue(n,"src");return t&&i?this._defFromObj({family:t,src:i,style:this._getCSSValue(n,"font-style"),weight:this._getCSSValue(n,"font-weight")}):null};t._watchFont=function(n){n&&!this._faces[n.id]&&(this._faces[n.id]=n,this._watched.push(n),this._count++,this._calculateReferenceSizes(n),this._startWatching())};t._startWatching=function(){null==this._watchInterval&&(this._watchInterval=setInterval(createjs.proxy(this._watch,this),n.WATCH_DURATION))};t._stopWatching=function(){clearInterval(this._watchInterval);clearTimeout(this._loadTimeout);this._watchInterval=null};t._watch=function(){for(var r,i=this._watched,s=n._referenceFonts,e=i.length,u=e-1;u>=0;u--)for(var t=i[u],o=t.refs,f=o.length-1;f>=0;f--)if(this._getTextWidth(t.family+","+s[f],t.weight,t.style)!=o[f]){r=new createjs.Event("fileload");t.type="font-family";r.item=t;this.dispatchEvent(r);i.splice(u,1);break}e!==i.length&&(r=new createjs.ProgressEvent(this._count-i.length,this._count),this.dispatchEvent(r));0===e&&(this._stopWatching(),this._sendComplete())};t._calculateReferenceSizes=function(t){for(var r=n._referenceFonts,u=t.refs=[],i=0;i<r.length;i++)u[i]=this._getTextWidth(r[i],t.weight,t.style)};t._defFromSrc=function(t){var f,o=/[- ._]+/g,i=t,c=null,r,u,e,s,h;return-1!==(f=i.search(/[?#]/))&&(i=i.substr(0,f)),-1!==(f=i.lastIndexOf("."))&&(c=i.substr(f+1),i=i.substr(0,f)),-1!==(f=i.lastIndexOf("/"))&&(i=i.substr(f+1)),r=i,u=r.match(n.WEIGHT_REGEX),u&&(u=u[0],r=r.replace(u,""),u=u.replace(o,"").toLowerCase()),e=i.match(n.STYLE_REGEX),e&&(r=r.replace(e[0],""),e="italic"),r=r.replace(o,""),s="local('"+i.replace(o," ")+"'), url('"+t+"')",h=n.FONT_FORMAT[c],h&&(s+=" format('"+h+"')"),this._defFromObj({family:r,weight:n.FONT_WEIGHT[u]||u,style:e,src:s})};t._defFromObj=function(n){var t={family:n.family,src:n.src,style:n.style||"normal",weight:n.weight||"normal"};return t.id=t.family+";"+t.style+";"+t.weight,t};t._cssFromDef=function(n){return"@font-face {\n\tfont-family: '"+n.family+"';\n\tfont-style: "+n.style+";\n\tfont-weight: "+n.weight+";\n\tsrc: "+n.src+";\n}"};t._getTextWidth=function(t,i,r){var u=n._ctx;return u.font=r+" "+i+" 72px "+t,u.measureText(n.sampleText).width};t._getCSSValue=function(n,t){var i=new RegExp(t+":s*([^;}]+?)s*[;}]").exec(n);return i&&i[1]?i[1]:null};createjs.FontLoader=createjs.promote(n,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function t(n,t){this.AbstractLoader_constructor(n,t,createjs.Types.IMAGE);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";createjs.DomUtils.isImageTag(n)?this._tag=n:createjs.DomUtils.isImageTag(n.src)?this._tag=n.src:createjs.DomUtils.isImageTag(n.tag)&&(this._tag=n.tag);null!=this._tag?this._preferXHR=!1:this._tag=createjs.Elements.img();this.on("initialize",this._updateXHR,this)}var n=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(n){return n.type==createjs.Types.IMAGE};n.load=function(){if(""!=this._tag.src&&this._tag.complete)this._sendComplete();else{var n=this._item.crossOrigin;1==n&&(n="Anonymous");null==n||createjs.URLUtils.isLocal(this._item)||(this._tag.crossOrigin=n);this.AbstractLoader_load()}};n._updateXHR=function(n){n.loader.mimeType="text/plain; charset=x-user-defined-binary";n.loader.setResponseType&&n.loader.setResponseType("blob")};n._formatResult=function(){return this._formatImage};n._formatImage=function(n,t){var i=this._tag,r=window.URL||window.webkitURL,u;this._preferXHR&&(r?(u=r.createObjectURL(this.getResult(!0)),i.src=u,i.addEventListener("load",this._cleanUpURL,!1),i.addEventListener("error",this._cleanUpURL,!1)):i.src=this._item.src);i.complete?n(i):(i.onload=createjs.proxy(function(){n(this._tag);i.onload=i.onerror=null},this),i.onerror=createjs.proxy(function(n){t(new createjs.ErrorEvent("IMAGE_FORMAT",null,n));i.onload=i.onerror=null},this))};n._cleanUpURL=function(n){(window.URL||window.webkitURL).revokeObjectURL(n.target.src)};createjs.ImageLoader=createjs.promote(t,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n,t){this.AbstractLoader_constructor(n,t,createjs.Types.JAVASCRIPT);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.setTag(createjs.Elements.script())}var t=createjs.extend(n,createjs.AbstractLoader);n.canLoadItem=function(n){return n.type==createjs.Types.JAVASCRIPT};t._formatResult=function(n){var t=n.getTag();return this._preferXHR&&(t.text=n.getResult(!0)),t};createjs.JavaScriptLoader=createjs.promote(n,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n){this.AbstractLoader_constructor(n,!0,createjs.Types.JSON);this.resultFormatter=this._formatResult}var t=createjs.extend(n,createjs.AbstractLoader);n.canLoadItem=function(n){return n.type==createjs.Types.JSON};t._formatResult=function(n){var t=null,i;try{t=createjs.DataUtils.parseJSON(n.getResult(!0))}catch(n){return i=new createjs.ErrorEvent("JSON_FORMAT",null,n),this._sendError(i),n}return t};createjs.JSONLoader=createjs.promote(n,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function t(n){this.AbstractLoader_constructor(n,!1,createjs.Types.JSONP);this.setTag(createjs.Elements.script());this.getTag().type="text/javascript"}var n=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(n){return n.type==createjs.Types.JSONP};n.cancel=function(){this.AbstractLoader_cancel();this._dispose()};n.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this);createjs.DomUtils.appendToBody(this._tag);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag.src=this._item.src};n._handleLoad=function(n){this._result=this._rawResult=n;this._sendComplete();this._dispose()};n._handleTimeout=function(){this._dispose();this.dispatchEvent(new createjs.ErrorEvent("timeout"))};n._dispose=function(){createjs.DomUtils.removeChild(this._tag);delete window[this._item.callback];clearTimeout(this._loadTimeout)};createjs.JSONPLoader=createjs.promote(t,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function i(n,t){this.AbstractLoader_constructor(n,t,createjs.Types.MANIFEST);this.plugins=null;this._manifestQueue=null}var n=createjs.extend(i,createjs.AbstractLoader),t=i;t.MANIFEST_PROGRESS=.25;t.canLoadItem=function(n){return n.type==createjs.Types.MANIFEST};n.load=function(){this.AbstractLoader_load()};n._createRequest=function(){var n=this._item.callback;this._request=null!=n?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};n.handleEvent=function(n){switch(n.type){case"complete":return this._rawResult=n.target.getResult(!0),this._result=n.target.getResult(),this._sendProgress(t.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return n.loaded*=t.MANIFEST_PROGRESS,this.progress=n.loaded/n.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(n)}this.AbstractLoader_handleEvent(n)};n.destroy=function(){this.AbstractLoader_destroy();this._manifestQueue.close()};n._loadManifest=function(n){var t,i,r;if(n&&n.manifest){for(t=this._manifestQueue=new createjs.LoadQueue(this._preferXHR),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0),i=0,r=this.plugins.length;r>i;i++)t.installPlugin(this.plugins[i]);t.loadManifest(n)}else this._sendComplete()};n._handleManifestFileLoad=function(n){n.target=null;this.dispatchEvent(n)};n._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};n._handleManifestProgress=function(n){this.progress=n.progress*(1-t.MANIFEST_PROGRESS)+t.MANIFEST_PROGRESS;this._sendProgress(this.progress)};n._handleManifestError=function(n){var t=new createjs.Event("fileerror");t.item=n.data;this.dispatchEvent(t)};createjs.ManifestLoader=createjs.promote(i,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n,t){this.AbstractMediaLoader_constructor(n,t,createjs.Types.SOUND);createjs.DomUtils.isAudioTag(n)?this._tag=n:createjs.DomUtils.isAudioTag(n.src)?this._tag=n:createjs.DomUtils.isAudioTag(n.tag)&&(this._tag=createjs.DomUtils.isAudioTag(n)?n:n.src);null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(n,createjs.AbstractMediaLoader);n.canLoadItem=function(n){return n.type==createjs.Types.SOUND};t._createTag=function(n){var t=createjs.Elements.audio();return t.autoplay=!1,t.preload="none",t.src=n,t};createjs.SoundLoader=createjs.promote(n,"AbstractMediaLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n,t){this.AbstractMediaLoader_constructor(n,t,createjs.Types.VIDEO);createjs.DomUtils.isVideoTag(n)||createjs.DomUtils.isVideoTag(n.src)?(this.setTag(createjs.DomUtils.isVideoTag(n)?n:n.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=n;createjs.extend(n,createjs.AbstractMediaLoader)._createTag=function(){return createjs.Elements.video()};t.canLoadItem=function(n){return n.type==createjs.Types.VIDEO};createjs.VideoLoader=createjs.promote(n,"AbstractMediaLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function i(n,t){this.AbstractLoader_constructor(n,t,createjs.Types.SPRITESHEET);this._manifestQueue=null}var n=createjs.extend(i,createjs.AbstractLoader),t=i;t.SPRITESHEET_PROGRESS=.25;t.canLoadItem=function(n){return n.type==createjs.Types.SPRITESHEET};n.destroy=function(){this.AbstractLoader_destroy();this._manifestQueue.close()};n._createRequest=function(){var n=this._item.callback;this._request=null!=n?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};n.handleEvent=function(n){switch(n.type){case"complete":return this._rawResult=n.target.getResult(!0),this._result=n.target.getResult(),this._sendProgress(t.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return n.loaded*=t.SPRITESHEET_PROGRESS,this.progress=n.loaded/n.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(n)}this.AbstractLoader_handleEvent(n)};n._loadManifest=function(n){if(n&&n.images){var t=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);t.on("complete",this._handleManifestComplete,this,!0);t.on("fileload",this._handleManifestFileLoad,this);t.on("progress",this._handleManifestProgress,this);t.on("error",this._handleManifestError,this,!0);t.loadManifest(n.images)}};n._handleManifestFileLoad=function(n){var i=n.result,t;null!=i&&(t=this.getResult().images,t[t.indexOf(n.item.src)]=i)};n._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result);this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};n._handleManifestProgress=function(n){this.progress=n.progress*(1-t.SPRITESHEET_PROGRESS)+t.SPRITESHEET_PROGRESS;this._sendProgress(this.progress)};n._handleManifestError=function(n){var t=new createjs.Event("fileerror");t.item=n.data;this.dispatchEvent(t)};createjs.SpriteSheetLoader=createjs.promote(i,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n,t){this.AbstractLoader_constructor(n,t,createjs.Types.SVG);this.resultFormatter=this._formatResult;this._tagSrcAttribute="data";t?this.setTag(createjs.Elements.svg()):(this.setTag(createjs.Elements.object()),this.getTag().type="image/svg+xml")}var t=createjs.extend(n,createjs.AbstractLoader);n.canLoadItem=function(n){return n.type==createjs.Types.SVG};t._formatResult=function(n){var r=createjs.DataUtils.parseXML(n.getResult(!0)),t=n.getTag(),i;return(!this._preferXHR&&document.body.contains(t)&&document.body.removeChild(t),null!=r.documentElement)?(i=r.documentElement,document.importNode&&(i=document.importNode(i,!0)),t.appendChild(i),t):r};createjs.SVGLoader=createjs.promote(n,"AbstractLoader")}();(void 0).createjs=(void 0).createjs||{},function(){function n(n){this.AbstractLoader_constructor(n,!0,createjs.Types.XML);this.resultFormatter=this._formatResult}var t=createjs.extend(n,createjs.AbstractLoader);n.canLoadItem=function(n){return n.type==createjs.Types.XML};t._formatResult=function(n){return createjs.DataUtils.parseXML(n.getResult(!0))};createjs.XMLLoader=createjs.promote(n,"AbstractLoader")}();TouchScreenDetect={Detect:function(){var n=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(n)||/android/i.test(n)||/iPad|iPhone|iPod/.test(n)&&!window.MSStream}};midiUrl="assets/overworld.mid";filesToLoad=["assets/overworld.mid","assets/sm64_mario_so_long_bowser_LjCg641.mp3","js/pat/arachno-120.pat","js/pat/arachno-127.pat","js/pat/arachno-95.pat","js/pat/MT32Drums/mt32drum-1.pat","js/pat/MT32Drums/mt32drum-11.pat","js/pat/MT32Drums/mt32drum-16.pat","js/pat/MT32Drums/mt32drum-19.pat","js/pat/MT32Drums/mt32drum-2.pat","js/pat/MT32Drums/mt32drum-22.pat","js/pat/MT32Drums/mt32drum-3.pat","js/pat/MT32Drums/mt32drum-41.pat","js/pat/MT32Drums/mt32drum-7.pat"];var queue=new createjs.LoadQueue(!1),playButton=document.querySelector(".play-button"),userEvent=TouchScreenDetect.Detect()?"touchstart":"click",midiPlayLength=0;queue.on("complete",function(){loadingIndicator.stop();document.querySelector(".loading-indicator").classList.add("hidden");playButton.classList.remove("hidden")});MIDIjs.get_duration(midiUrl,function(n){midiPlayLength=1e3*n;queue.loadManifest(filesToLoad)});